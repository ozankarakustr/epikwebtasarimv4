import{j as e}from"./index-D8qOLjzl.js";import{r as t,u as r,L as s}from"./router-BngDsYxN.js";import{c as a}from"./index-DCdKxP6z.js";import"./vendor-qOSuyabr.js";const l=a("https://dfjjsnoxkrmfrmksxfqm.supabase.co","sb_publishable_u1NZrF_BN2sDbJ4KyzOoNQ_krxzo2bb");function i(){const[a,i]=t.useState([]),[n,o]=t.useState(!0),[c,d]=t.useState(!1),[x,p]=t.useState(null),[g,m]=t.useState({name:"",slug:"",description:"",category_type:"blog"}),u=r();t.useEffect(()=>{h(),b()},[]);const h=async()=>{const{data:{user:e}}=await l.auth.getUser();e||u("/admin/login")},b=async()=>{try{const{data:e,error:t}=await l.from("categories").select("*").order("created_at",{ascending:!1});if(t)throw t;i(e||[])}catch(e){}finally{o(!1)}},y=e=>e.toLowerCase().replace(/ÄŸ/g,"g").replace(/Ã¼/g,"u").replace(/ÅŸ/g,"s").replace(/Ä±/g,"i").replace(/Ã¶/g,"o").replace(/Ã§/g,"c").replace(/[^a-z0-9]/g,"-").replace(/-+/g,"-").replace(/^-|-$/g,""),j=()=>{m({name:"",slug:"",description:"",category_type:"blog"}),d(!1),p(null)};return n?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Kategoriler yÃ¼kleniyor..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-lg border-b-4 border-blue-500 sticky top-0 z-50",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(s,{to:"/admin",className:"flex items-center group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-teal-500 rounded-xl flex items-center justify-center shadow-xl transform group-hover:scale-105 transition-all duration-300",children:e.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-transparent bg-gradient-to-br from-blue-600 to-purple-600 bg-clip-text font-bold text-lg",children:"E"})})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-orange-400 to-pink-500 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"flex flex-col ml-4",children:[e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-teal-600 bg-clip-text text-transparent",children:"EpikTasarÄ±m"}),e.jsx("span",{className:"text-sm text-blue-600 font-bold tracking-wider bg-blue-100 px-2 py-1 rounded",children:"YÃ–NETÄ°M PANELÄ°"})]})]})}),e.jsxs(s,{to:"/admin",className:"flex items-center gap-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-arrow-left-line text-xl"}),"Dashboard'a DÃ¶n"]})]})})}),e.jsx("header",{className:"bg-white shadow-lg border-b-4 border-purple-500",children:e.jsx("div",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"ðŸ·ï¸ Kategori YÃ¶netimi"}),e.jsx("p",{className:"text-gray-600 text-xl",children:"Blog kategorilerini yÃ¶netin"})]}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-add-line text-xl"}),"Yeni Kategori"]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c&&e.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8 mb-8 border-4 border-purple-200",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:x?"âœï¸ Kategori DÃ¼zenle":"âž• Yeni Kategori Ekle"}),e.jsx("button",{onClick:j,className:"text-gray-500 hover:text-gray-700 cursor-pointer",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsxs("form",{onSubmit:async e=>{e.preventDefault();try{const e={...g,slug:g.slug||y(g.name)};if(x){const{error:t}=await l.from("categories").update(e).eq("id",x.id);if(t)throw t}else{const{error:t}=await l.from("categories").insert([e]);if(t)throw t}m({name:"",slug:"",description:"",category_type:"blog"}),d(!1),p(null),b()}catch(t){alert("Kategori kaydedilirken bir hata oluÅŸtu!")}},className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Kategori AdÄ± *"}),e.jsx("input",{type:"text",value:g.name,onChange:e=>{m({...g,name:e.target.value,slug:y(e.target.value)})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg",placeholder:"Kategori adÄ±nÄ± girin",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"URL Slug"}),e.jsx("input",{type:"text",value:g.slug,onChange:e=>m({...g,slug:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg",placeholder:"url-slug"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Kategori TÃ¼rÃ¼"}),e.jsxs("select",{value:g.category_type,onChange:e=>m({...g,category_type:e.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg pr-8",children:[e.jsx("option",{value:"blog",children:"Blog"}),e.jsx("option",{value:"project",children:"Proje"}),e.jsx("option",{value:"product",children:"ÃœrÃ¼n"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"AÃ§Ä±klama"}),e.jsx("textarea",{value:g.description,onChange:e=>m({...g,description:e.target.value}),rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-lg",placeholder:"Kategori aÃ§Ä±klamasÄ±"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("button",{type:"submit",className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-save-line text-xl"}),x?"GÃ¼ncelle":"Kaydet"]}),e.jsxs("button",{type:"button",onClick:j,className:"flex items-center gap-2 px-6 py-3 bg-gray-500 text-white rounded-lg font-bold hover:bg-gray-600 transition-colors cursor-pointer whitespace-nowrap",children:[e.jsx("i",{className:"ri-close-line text-xl"}),"Ä°ptal"]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-xl overflow-hidden border-4 border-purple-200",children:[e.jsx("div",{className:"px-8 py-6 bg-purple-50 border-b border-purple-200",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["ðŸ“‹ Kategoriler (",a.length,")"]})}),0===a.length?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("i",{className:"ri-folder-open-line text-6xl text-gray-400 mb-4"}),e.jsx("h3",{className:"text-xl font-bold text-gray-600 mb-2",children:"HenÃ¼z kategori yok"}),e.jsx("p",{className:"text-gray-500 mb-6",children:"Ä°lk kategorinizi ekleyerek baÅŸlayÄ±n"}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-6 py-3 bg-purple-600 text-white rounded-lg font-bold hover:bg-purple-700 transition-colors cursor-pointer whitespace-nowrap mx-auto",children:[e.jsx("i",{className:"ri-add-line text-xl"}),"Kategori Ekle"]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Kategori"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Slug"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"TÃ¼r"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"AÃ§Ä±klama"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Tarih"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Ä°ÅŸlemler"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"font-bold text-gray-900 text-lg",children:t.name})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 rounded-full text-sm font-mono",children:t.slug})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-sm font-bold "+("blog"===t.category_type?"bg-blue-100 text-blue-800":"project"===t.category_type?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"),children:"blog"===t.category_type?"ðŸ“ Blog":"project"===t.category_type?"ðŸ“ Proje":"ðŸ›ï¸ ÃœrÃ¼n"})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-gray-600 max-w-xs truncate",children:t.description||"AÃ§Ä±klama yok"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500",children:new Date(t.created_at).toLocaleDateString("tr-TR")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>(e=>{p(e),m({name:e.name,slug:e.slug,description:e.description,category_type:e.category_type}),d(!0)})(t),className:"flex items-center justify-center w-10 h-10 bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-edit-line text-lg"})}),e.jsx("button",{onClick:()=>(async e=>{if(confirm("Bu kategoriyi silmek istediÄŸinizden emin misiniz?"))try{const{error:t}=await l.from("categories").delete().eq("id",e);if(t)throw t;b()}catch(t){alert("Kategori silinirken bir hata oluÅŸtu!")}})(t.id),className:"flex items-center justify-center w-10 h-10 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition-colors cursor-pointer",children:e.jsx("i",{className:"ri-delete-bin-line text-lg"})})]})})]},t.id))})]})})]})]})]})}export{i as default};
