import{j as e}from"./index-D8qOLjzl.js";import{c as s}from"./index-DCdKxP6z.js";import{r as t,u as i,L as r}from"./router-BngDsYxN.js";import"./vendor-qOSuyabr.js";const l=s("https://dfjjsnoxkrmfrmksxfqm.supabase.co","sb_publishable_u1NZrF_BN2sDbJ4KyzOoNQ_krxzo2bb");function a(){const[s,i]=t.useState({total_visitors:0,today_visitors:0,this_week_visitors:0,this_month_visitors:0,unique_visitors_today:0,unique_visitors_week:0}),[r,a]=t.useState(!0);t.useEffect(()=>{n();const e=setInterval(n,3e4);return()=>clearInterval(e)},[]);const n=async()=>{try{const e=new Date,s=new Date(e.getFullYear(),e.getMonth(),e.getDate()),t=new Date(s.getTime()-6048e5),r=new Date(s.getTime()-2592e6),{data:a}=(l.from("visitors").select("*",{count:"exact",head:!0}).neq("is_admin",!0),await l.from("visitors").select("visitor_id").neq("is_admin",!0)),n=new Set(a?.map(e=>e.visitor_id)||[]).size,{data:d}=await l.from("visitors").select("visitor_id").neq("is_admin",!0).gte("visited_at",s.toISOString()),c=new Set(d?.map(e=>e.visitor_id)||[]),{data:o}=await l.from("visitors").select("visitor_id").neq("is_admin",!0).gte("visited_at",t.toISOString()),x=new Set(o?.map(e=>e.visitor_id)||[]),{count:m}=await l.from("visitors").select("*",{count:"exact",head:!0}).neq("is_admin",!0).gte("visited_at",r.toISOString());i({total_visitors:n,today_visitors:c.size,this_week_visitors:x.size,this_month_visitors:m||0,unique_visitors_today:c.size,unique_visitors_week:x.size})}catch(e){}finally{a(!1)}};return r?e.jsx("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx("i",{className:"ri-loader-4-line text-4xl text-teal-600 animate-spin"})})}):e.jsxs("div",{className:"bg-gradient-to-br from-teal-500 to-blue-600 rounded-2xl shadow-lg p-8 text-white",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"ri-bar-chart-box-line text-2xl"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:"Gerçek Ziyaretçi İstatistikleri"}),e.jsx("p",{className:"text-white/80 text-sm",children:"Sadece gerçek ziyaretçiler (admin hariç)"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-2xl"})}),e.jsx("i",{className:"ri-shield-check-line text-green-300"})]}),e.jsx("div",{className:"text-3xl font-bold mb-2",children:s.total_visitors.toLocaleString("tr-TR")}),e.jsx("div",{className:"text-white/80 text-sm",children:"Toplam Benzersiz Ziyaretçi"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-calendar-today-line text-2xl"})}),e.jsx("i",{className:"ri-arrow-up-line text-green-300"})]}),e.jsx("div",{className:"text-3xl font-bold mb-2",children:s.today_visitors.toLocaleString("tr-TR")}),e.jsx("div",{className:"text-white/80 text-sm",children:"Bugün (Benzersiz)"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-calendar-week-line text-2xl"})}),e.jsx("i",{className:"ri-arrow-up-line text-green-300"})]}),e.jsx("div",{className:"text-3xl font-bold mb-2",children:s.this_week_visitors.toLocaleString("tr-TR")}),e.jsx("div",{className:"text-white/80 text-sm",children:"Bu Hafta (Benzersiz)"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6 hover:bg-white/20 transition-all duration-300 hover:scale-105",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-calendar-line text-2xl"})}),e.jsx("i",{className:"ri-arrow-up-line text-green-300"})]}),e.jsx("div",{className:"text-3xl font-bold mb-2",children:s.this_month_visitors.toLocaleString("tr-TR")}),e.jsx("div",{className:"text-white/80 text-sm",children:"Bu Ay"})]})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-green-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-shield-check-line text-green-300"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Filtreleme Aktif"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Admin girişleri hariç tutuldu"})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-user-settings-line text-blue-300"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Benzersiz Sayım"}),e.jsx("p",{className:"text-white/70 text-sm",children:"Aynı ziyaretçi günde 1 kez sayılır"})]})]})})]}),e.jsx("div",{className:"mt-6 pt-6 border-t border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full animate-pulse"}),e.jsx("span",{className:"text-white/80",children:"Dürüst İzleme Aktif"})]}),e.jsx("span",{className:"text-white/60",children:"Son güncelleme: Az önce"})]})})]})}const n=s("https://dfjjsnoxkrmfrmksxfqm.supabase.co","sb_publishable_u1NZrF_BN2sDbJ4KyzOoNQ_krxzo2bb");function d(){const[s,l]=t.useState(!1),[d,c]=t.useState({posts:0,projects:0,products:0,comments:0}),o=i();t.useEffect(()=>{x(),m()},[]);const x=async()=>{const{data:{user:e}}=await n.auth.getUser();e||o("/admin/login")},m=async()=>{try{const[e,s,t,i]=await Promise.all([n.from("posts").select("*",{count:"exact",head:!0}),n.from("projects").select("*",{count:"exact",head:!0}),n.from("products").select("*",{count:"exact",head:!0}),n.from("comments").select("*",{count:"exact",head:!0})]);c({posts:e.count||0,projects:s.count||0,products:t.count||0,comments:i.count||0})}catch(e){}};return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-lg border-b-4 border-blue-500 sticky top-0 z-50",children:e.jsx("div",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(r,{to:"/",className:"flex items-center group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 via-purple-500 to-teal-500 rounded-xl flex items-center justify-center shadow-xl transform group-hover:scale-105 transition-all duration-300",children:e.jsx("div",{className:"w-8 h-8 bg-white rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-transparent bg-gradient-to-br from-blue-600 to-purple-600 bg-clip-text font-bold text-lg",children:"E"})})}),e.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-gradient-to-r from-orange-400 to-pink-500 rounded-full animate-pulse"})]}),e.jsxs("div",{className:"flex flex-col ml-4",children:[e.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-teal-600 bg-clip-text text-transparent",children:"EpikTasarım"}),e.jsx("span",{className:"text-sm text-blue-600 font-bold tracking-wider bg-blue-100 px-2 py-1 rounded",children:"YÖNETİM PANELİ"})]})]})}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-3 bg-gray-100 px-4 py-2 rounded-lg border-2 border-gray-300",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-teal-500 to-blue-500 rounded-full flex items-center justify-center",children:e.jsx("i",{className:"ri-user-line text-white text-lg"})}),e.jsx("span",{className:"text-lg font-bold text-gray-800",children:"Admin"})]}),e.jsxs("button",{onClick:async()=>{try{l(!0),await n.auth.signOut(),o("/admin/login")}catch(e){}finally{l(!1)}},disabled:s,className:"flex items-center gap-2 px-6 py-3 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 transition-colors cursor-pointer whitespace-nowrap disabled:opacity-50 disabled:cursor-not-allowed text-lg border-2 border-red-700 shadow-lg",children:[e.jsx("i",{className:(s?"ri-loader-4-line animate-spin":"ri-logout-box-line")+" text-xl"}),s?"Çıkış...":"ÇIKIŞ"]})]})]})})}),e.jsx("header",{className:"bg-white shadow-lg border-b-4 border-green-500",children:e.jsx("div",{className:"px-8 py-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"📊 Dashboard"}),e.jsx("p",{className:"text-gray-600 text-xl",children:"Hoş geldiniz! Yönetim paneline"})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Son giriş"}),e.jsx("p",{className:"text-lg font-bold text-gray-700",children:(new Date).toLocaleDateString("tr-TR")})]})]})})}),e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-xl p-8 hover:shadow-2xl transition-shadow border-4 border-blue-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-lg mb-2 font-bold",children:"📝 Toplam Yazı"}),e.jsx("p",{className:"text-4xl font-bold text-blue-600",children:d.posts})]}),e.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-article-line text-3xl text-blue-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-xl p-8 hover:shadow-2xl transition-shadow border-4 border-purple-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-lg mb-2 font-bold",children:"📁 Toplam Proje"}),e.jsx("p",{className:"text-4xl font-bold text-purple-600",children:d.projects})]}),e.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-folder-line text-3xl text-purple-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-xl p-8 hover:shadow-2xl transition-shadow border-4 border-green-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-lg mb-2 font-bold",children:"🛍️ Toplam Ürün"}),e.jsx("p",{className:"text-4xl font-bold text-green-600",children:d.products})]}),e.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-shopping-bag-line text-3xl text-green-600"})})]})}),e.jsx("div",{className:"bg-white rounded-xl shadow-xl p-8 hover:shadow-2xl transition-shadow border-4 border-teal-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-600 text-lg mb-2 font-bold",children:"💬 Toplam Yorum"}),e.jsx("p",{className:"text-4xl font-bold text-teal-600",children:d.comments})]}),e.jsx("div",{className:"w-16 h-16 bg-teal-100 rounded-lg flex items-center justify-center",children:e.jsx("i",{className:"ri-chat-3-line text-3xl text-teal-600"})})]})})]}),e.jsx("div",{className:"mb-8",children:e.jsx(a,{})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx(r,{to:"/admin/posts/new",className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"ri-add-line text-2xl text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Yeni Blog Yazısı"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Blog yazısı ekle"})]})]})}),e.jsx(r,{to:"/admin/categories",className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"ri-price-tag-3-line text-2xl text-purple-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Kategoriler"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Kategori yönetimi"})]})]})}),e.jsx(r,{to:"/admin/projects/new",className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"ri-briefcase-line text-2xl text-green-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Yeni Proje"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Portföy projesi ekle"})]})]})}),e.jsx(r,{to:"/admin/products/new",className:"bg-white p-6 rounded-xl shadow-sm border border-gray-200 hover:shadow-md transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:e.jsx("i",{className:"ri-shopping-bag-line text-2xl text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Yeni Ürün"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Ürün ekle"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsxs(r,{to:"/admin/posts",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("i",{className:"ri-article-line text-blue-600 text-xl"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Blog Yazıları"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Blog yazılarınızı yönetin"})]}),e.jsxs(r,{to:"/admin/categories",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("i",{className:"ri-price-tag-3-line text-purple-600 text-xl"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Kategoriler"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Kategori yönetimini yapın"})]}),e.jsxs(r,{to:"/admin/content-tools",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("i",{className:"ri-magic-line text-teal-600 text-xl"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"İçerik Araçları"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"URL'den çek, AI ile üret"})]}),e.jsxs(r,{to:"/admin/projects",className:"bg-white p-6 rounded-lg shadow-sm hover:shadow-md transition-shadow cursor-pointer",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4",children:e.jsx("i",{className:"ri-folder-line text-green-600 text-xl"})}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Projeler"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Portföy projelerinizi yönetin"})]})]})]})]})}export{d as default};
